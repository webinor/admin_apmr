var services=$("#service-layout").html();$("body").on("keyup change",".quantity_price",(function(t){var e=$(this).closest("tr"),i=e.find(".quantity").val(),n=e.find(".price").val(),s=parseInt(i)*parseInt(n);e.find("td:eq(4)").text(s>0?s:"")})),$("body").on("click",".edit-item",(function(t){t.preventDefault(),console.log($(this));var e=$(this).closest("tr"),i=(e.data("invoice-line"),$(this).closest("tr").data("description")),n=$(this).closest("tr").data("quantity"),s=$(this).closest("tr").data("price"),a=(n=$(this).closest("tr").data("quantity"),$(this).closest("tr").data("service"));$(this).closest("tr").find("td:eq(1)").html("<input class='form-control' type=''text name='edit_description' value='"+i+"'>"),$(this).closest("tr").find("td:eq(2)").html("<input class='form-control quantity_price quantity' type='number' name='edit_quantity' value='"+n+"'>"),$(this).closest("tr").find("td:eq(3)").html("<input class='form-control quantity_price price' type='number' name='edit_price' value='"+s+"'>"),$(this).closest("tr").find("td:eq(5)").html(services),$(`#${e.attr("id")} option:contains(${a})`).filter((function(t){return $(this).text()===a})).attr("selected",!0),$(this).closest("tr").find("td:eq(6)").prepend('<a class="update-item me-3 update blink"\n                                href="#"><i\n                                  class="menu-icon mdi mdi-check-circle"></i>\n                            </a>'),$(this).hide(),$(this).siblings(".delete-item").hide()})),$("body").on("click",".update-item",(function(t){t.preventDefault();var e=$(this).closest("tr").find("input[name='edit_description']").val(),i=$(this).closest("tr").find("input[name='edit_quantity']").val(),n=$(this).closest("tr").find("input[name='edit_price']").val(),s=$(this).closest("tr").find("select[name='edit_service'] option:selected").text();$(this).closest("tr").find("td:eq(1)").text(e),$(this).closest("tr").find("td:eq(2)").text(i),$(this).closest("tr").find("td:eq(3)").text(n),$(this).closest("tr").find("td:eq(5)").text(s),$(this).closest("tr").attr("data-description",e),$(this).closest("tr").attr("data-quantity",i),$(this).closest("tr").attr("data-price",n),$(this).closest("tr").attr("data-service",s),$(this).siblings(".edit-item").show(),$(this).siblings(".delete-item").show(),console.log($(this)),$(this).siblings(".edit-item").removeClass("d-none"),$(this).siblings(".delete-item").removeClass("d-none"),$(this).remove()})),$("body").on("click",".delete-item",(function(t){t.preventDefault(),$(this).closest("tr").remove()})),$(".new-line").click((function(t){t.preventDefault();var e=$(this).data("table"),i=$(`#${e} tr`).length;$("input[name='name']").val(""),$("input[name='email']").val("");$(`#${e} tbody`).append(`\n       \n       <tr id="sdvasd907" data-invoice-line="sdvasd907"\n                          data-description="{{ '$invoice_line->description' }}"\n                          data-quantity="{{ '$invoice_line->get_quantity()' }}"\n                          data-price="{{ '$invoice_line->get_price()' }}"\n                          data-total="{{ '$invoice_line->get_total()'  }}"\n                          data-service="{{ '$invoice_line->invoice->service->get_name()' }}"\n                          >\n                          <td>${i}</td>\n                          <td ><input class="form-control" type="text" name="edit_description" value="" placeholder="Description"></td>\n                          <td ><input class="form-control quantity_price quantity" type="number" name="edit_quantity" value="" placeholder="quantitÃ©"></td>\n                          <td ><input class="form-control quantity_price price" type="number" name="edit_price" value="" placeholder="Prix unitaire"></td>\n                          <td ></td>\n                          <td >${services}</td>\n                          <td>\n\n                            <a class="update-item me-3 update blink"\n                                href="#"><i\n                                  class="menu-icon mdi mdi-plus-circle"></i>\n                            </a>\n\n                            <a class="edit-item d-none me-3 edit blink "\n                                href="#"><i\n                                  class="menu-icon mdi mdi-table-edit"></i>\n                            </a>\n\n                             <a  class="delete-item d-none delete blink" href="#"><i\n                                class="menu-icon mdi mdi-close-circle"></i></a> \n                            <input id="input" type="hidden"\n                              value="">\n                            <div class="blink loader d-none d-flex justify-content-center mt-3">\n\n                            <div class="inner-loading dot-flashing"></div>\n                            </div>\n\n\n                          </td>\n\n                        </tr>\n       \n       `)}));